<section>

      <div class="row">

        <div class="col-md-12">

          <div class="card card-cascade narrower">
            <!--Titulo-->
            <div class="view gradient-card-header orange-chang" >
              <h2 class="h2-responsive">Unidad de medida</h2>
            </div>
            <!--/Titulo-->
            <div class="card-body" >
              <div class="container-fluid">
                <div class="row">
                  <div class="col-md-12">
                    <div class="text-right">
                      <button type="button" class="btn orange-chang u-btn-agregar" (click)="InvocarModal(modalAddUnidadMedida,formAddUnidadMedida)" data-toggle="modal" data-target="#modalAddUnidadMedida">Nueva unidad de medida</button>
                    </div>
                  </div>
                </div>
              </div>
              <br>
              <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                <tr>
                  <th class="header-negrita">#</th>
                  <th class="header-negrita">Nombre</th>
                  <th class="header-negrita">Clasificación</th>
                  <th class="header-negrita">Simbolo</th>
                  <th class="header-negrita">Acciones</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let unidadmedida of unidadesMedida">
                  <td class="body-negrita">{{ unidadmedida.IdUnidadMedida }}</td>
                  <td class="body-negrita">{{ unidadmedida.NombreUnidad }}</td>
                  <td class="body-negrita">{{ unidadmedida.IdClasificacionUnidadMedida }}</td>
                  <td class="body-negrita">{{ unidadmedida.Simbolo}}</td>
                  <td width="25%" class="body-negrita">
                    <div class="text-center">
                      <button type="button" (click)="getUnidaMedida()" class="btn btn-sm" style="background-color:#E67E22;" id="btnGetEmpaque" data-toggle="tooltip" data-placement="bottom" title="Visualizar" ><i class="fa fa-eye"></i></button>
                      <button type="button"  (click)="invocarModalUpdate(modalUpdateUnidadMedida,unidadmedida)" class="btn btn-sm" style="background-color:#E67E22;" id="btnUpdateEmpaque" data-toggle="tooltip" data-placement="bottom" title="Editar"><i class="fa fa-pencil"></i></button>
                     <!-- <button type="button" (click)="deleteUnidadMedida()" class="btn btn-sm" style="background-color:#E67E22;" id="btnDeleteEmpaque" data-toggle="tooltip" data-placement="bottom" title="Eliminar"><i class="fa fa-times"></i></button>-->
                    </div>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>

      </div>

    </section>

    <!-- Modal Agregar unidad de medida -->
    <div mdbModal #modalAddUnidadMedida="mdb-modal" class="modal fade" id="modalAddUnidadMedida" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg cascading-modal " role="document">
        <!--Contenido-->
        <div class="modal-content background-gray">

          <!--Titulo-->
          <div class="modal-header orange-chang white-text">
            <h4 class="title">Unidad de Medida</h4>
            <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close" (click)="modalAddUnidadMedida.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <!--Cuerpo modal-->
          <div class="modal-body mb-0">
            <div class="container-fluid">
              <!-- Inicio form-->
              <form [formGroup] = "formAddUnidadMedida" (ngSubmit)="createUnidadMedida()" novalidate >
                <div class="row">
                  <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                    <div class="card">
                      <div class="card-header white-text orange-header"><i class="fa fa-file-text-o" aria-hidden="true"></i> Datos de la unidad de medida</div>
                      <div class="container-fluid">
                        <br>
                        <div class="row">
                          <div class="col-md-12">
                            <br>
                            <div class="md-form ">
                              <input mdbActive type="text"
                                     class="form-control letras"
                                     name="nombreunidadmedida"
                                     formControlName="nombreUnidadMedida"
                                     id ="nombreUnidadMedida"
                                     required
                              >
                              <show-errors [control]="formAddUnidadMedida.controls['nombreUnidadMedida']"></show-errors>
                              <label for="nombreUnidadMedida" class="">Nombre</label>
                            </div>
                          </div>

                          <div class="col-md-6">
                            <label for="clasificacionesUnidad">Clasificación</label>
                            <ng-select [items]="clasificacionesUnidad"
                                       bindLabel="NombreClasificacion"
                                       bindValue="IdClasificacionUnidadMedida"
                                       placeholder="Selecciona una clasificacion"
                                       formControlName="clasificacionesUnidad" id="clasificacionesUnidad" (add)="onAddSelectClasificacionesUnidad($event)"
                            >
                            </ng-select>
                            <show-errors [control]="formAddUnidadMedida.controls['clasificacionesUnidad']"></show-errors>
                          </div>

                          <div class="col-md-6">
                            <br>
                            <div class="md-form ">
                              <input mdbActive type="text" id="simbolounidadmedida"
                                      class="form-control letras"
                                      name="simbolounidadmedida"
                                      formControlName="simboloUnidadMedida"
                                      required

                              >
                              <show-errors [control]="formAddUnidadMedida.controls['simboloUnidadMedida']"></show-errors>
                              <label for="simbolounidadmedida" class="">Simbolo</label>
                            </div>
                          </div>

                        </div>
                        <br>
                        <div class="text-center mt-1-half">
                          <button class="btn orange-chang mb-1" type="submit" [disabled]="!formAddUnidadMedida.valid || todoValidado == 0" >Ingresar <i class="fa fa-check ml-1"></i></button>
                        </div>
                        <br>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <!-- Final form -->
              <br>
            </div>
          </div>
        </div>
        <!--/.Contenido-->
      </div>
    </div>


<!-- Modal Actualizar unidad de medida -->
<div mdbModal #modalUpdateUnidadMedida="mdb-modal" class="modal fade" id="modalUpdateUnidadMedida" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg cascading-modal " role="document">
    <!--Contenido-->
    <div class="modal-content background-gray">

      <!--Titulo-->
      <div class="modal-header orange-chang white-text">
        <h4 class="title">Unidad de Medida</h4>
        <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close" (click)="modalUpdateUnidadMedida.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!--Cuerpo modal-->
      <div class="modal-body mb-0">
        <div class="container-fluid">
          <!-- Inicio form-->
          <form [formGroup] = "formUpdateUnidadMedida" (ngSubmit)="updateUnidadMedida(modalUpdateUnidadMedida)" novalidate>
            <div class="row">
              <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <div class="card">
                  <div class="card-header white-text orange-header"><i class="fa fa-file-text-o" aria-hidden="true"></i>Actualizar unidad de medida</div>
                  <div class="container-fluid">
                    <br>
                    <div class="row">
                      <div class="col-md-12">
                        <br>
                        <div class="md-form ">
                          <input type="text"
                                 class="form-control"
                                 name="nombreunidadmedida"
                                 formControlName="nombreUnidadMedida"
                                 id ="upnombreUnidadMedida"
                                 required
                          >
                          <show-errors [control]="formUpdateUnidadMedida.controls['nombreUnidadMedida']"></show-errors>
                          <label for="upnombreUnidadMedida" class="">Nombre</label>
                        </div>
                      </div>

                      <div class="col-md-6">
                        <label for="upclasificacionunidadmedida">Clasificación</label>
                        <select2 class="form-control selectclasificacionunidadmedida" id="upclasificacionunidadmedida"  [options]="optionsSelect2">
                          <option class = "chip" [value]="clasificacion.IdClasificacion" *ngFor="let clasificacion of clasificaciones">{{clasificacion.NombreClasificacion}}</option>
                        </select2>

                      </div>

                      <div class="col-md-6">
                        <br>
                        <div class="md-form ">
                          <input type="text" id="upsimbolounidadmedida"
                                 class="form-control"
                                 name="simbolounidadmedida"
                                 formControlName="simboloUnidadMedida"
                                 required >
                          <show-errors [control]="formUpdateUnidadMedida.controls['simboloUnidadMedida']"></show-errors>
                          <label for="upsimbolounidadmedida" class="">Simbolo</label>
                        </div>
                      </div>

                    </div>
                    <br>
                    <div class="text-center mt-1-half">
                      <button class="btn orange-chang mb-1" type="submit" [disabled]="!formUpdateUnidadMedida.valid" >Ingresar <i class="fa fa-check ml-1"></i></button>
                    </div>
                    <br>
                  </div>
                </div>
              </div>
            </div>
          </form>
          <!-- Final form -->
          <br>
        </div>
      </div>
    </div>
    <!--/.Contenido-->
  </div>
</div>

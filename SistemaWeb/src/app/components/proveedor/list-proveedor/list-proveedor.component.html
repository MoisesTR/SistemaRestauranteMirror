<section>

  <div class="row">

    <div class="col-md-12">

      <div class="card card-cascade narrower">
        <!--Titulo-->
        <div class="view view-cascade gradient-card-header orange-chang">
          <h2 class="h2-responsive">Proveedores</h2>
        </div>
        <!--/Titulo-->
        <div class="card-body">
          <br>
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-bordered"
            cellspacing="0" width="100%">
            <thead>
              <tr>
                <th class="header-negrita">#</th>
                <th class="header-negrita">Nombre</th>
                <th class="header-negrita">Telefono titular</th>
                <th class="header-negrita">Direccion</th>
                <th class="header-negrita">Descripcion</th>
                <th class="header-negrita">Representante</th>
                <th class="header-negrita">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let proveedor of proveedores">
                <th scope="row" class="align-middle body-negrita" width="5%">{{ proveedor.IdProveedor }}</th>
                <td width="15%" class="align-middle body-negrita">{{ proveedor.NombreProveedor }}</td>
                <td width="10%" class="align-middle body-negrita text-center">
                  {{ proveedor.Telefonos != undefined ? proveedor.Telefonos[0].Telefono : ''}}
                  <a class="ml-3 btn orange-chang btn-sm white-text" role="button" (click)="showModalTelefonos(proveedor)">
                    <i class="fa fa-phone"></i>
                  </a>
                </td>
                <td width="20%" class="align-middle body-negrita">{{ proveedor.Direccion }}</td>
                <td width="20%" class="align-middle body-negrita">{{ proveedor.Descripcion }}</td>
                <td width="15%" class="align-middle body-negrita">{{ proveedor.NombreRepresentante}}</td>
                <td width="15%" class="align-middle body-negrita">

                  <div class="text-center">
                    <button type="button" [routerLink]="'update/'+proveedor.IdProveedor" class="btn btn-sm" style="background-color:#E67E22;"
                      id="btnUpdateProveedor" data-toggle="tooltip" data-placement="bottom" title="Editar">
                      <i class="fa fa-pencil"></i>
                    </button>
                    <button type="button" (click)="deleteProveedor(proveedor.IdProveedor)" class="btn btn-sm" style="background-color:#E67E22;"
                      id="btnDeleteProveedor" data-toggle="tooltip" data-placement="bottom" title="Eliminar">
                      <i class="fa fa-times"></i>
                    </button>
                  </div>

                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>

  </div>

</section>


<!-- Modal para agregar telefonos asociados al proveedor -->
<div mdbModal #modalTelefonos="mdb-modal" class="modal fade" id="modalTelefonos" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog cascading-modal modal-lg" role="document" style="height: 41%;">
    <!--Contenido-->
    <div class="modal-content background-gray mdl">

      <!--Header-->
      <div class="modal-header white-text orange-chang">
        <h4 class="title">
          <i class="fa fa-file-text-o"></i> Telefonos del proveedor</h4>
        <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close" (click)="modalTelefonos.hide()">
          <span aria-hidden="true">×</span>
        </button>
      </div>

      <!--Cuerpo Modal-->
      <div class="modal-body mb-0">

        <form novalidate>

          <div class="container d-none d-lg-block d-xl-block" id="mg-labels">
            <div class="row">

              <div class="col-lg-3">
                <div class="md-form">
                  <h6 class="orange-chang-text">Nombre</h6>
                </div>
              </div>

              <div class="col-lg-3 mgl-labels">
                <div class="md-form">
                  <h6 class="orange-chang-text">Cargo</h6>
                </div>
              </div>

              <div class="col-lg-3 mgl-labels">
                <div class="md-form">
                  <h6 class="orange-chang-text">Télefono</h6>
                </div>
              </div>

              <div class="col-lg-2 mgl-labels">
                <div class="md-form">
                  <h6 class="orange-chang-text">Titular</h6>
                </div>
              </div>

            </div>
          </div>

          <hr class="d-none d-lg-block d-xl-block">

          <div class="scrollbar-card scrollbar-ripe-malinka">
            <fieldset *ngFor="let telefono of proveedorSeleccionado.Telefonos; let i = index;" class="mb-fieldset">

              <div class="container">

                <div class="row mr-4">

                  <div class="col-md-12 col-lg-3">
                    <div class="md-form">
                      <h6 class="orange-chang-text d-block d-lg-none d-xl-none">Nombre</h6>
                      <input disabled type="text" id="n{{i}}" [ngModelOptions]="{standalone: true}" [(ngModel)]="telefono.Nombre"
                        class="input-modal-sm">
                    </div>
                  </div>

                  <div class="col-md-12 col-lg-3">
                    <div class="md-form">
                      <h6 class="orange-chang-text d-block d-lg-none d-xl-none">Cargo</h6>
                      <input disabled type="text" id="c{{i}}" [ngModelOptions]="{standalone: true}" [(ngModel)]="telefono.Cargo"
                        class="input-modal-sm">
                    </div>
                  </div>

                  <div class="col-md-12 col-lg-3 mr-0">
                    <div class="md-form">
                      <h6 class="orange-chang-text d-block d-lg-none d-xl-none">Télefono</h6>
                      <input disabled type="text" onlyNumbers="int" id="t{{i}}" [ngModelOptions]="{standalone: true}"
                        [(ngModel)]="telefono.Telefono" class="input-modal-sm">
                    </div>
                  </div>

                  <div class="col-6 col-md-6 col-lg-1 mt-4 ml-0">
                    <div class="switch chang-switch font-small">
                      <h6 class="orange-chang-text d-block d-lg-none d-xl-none">Titular</h6>
                      <label class="mt-3" id="align-input">
                        <input disabled [(ngModel)]="telefono.Titular " [ngModelOptions]="{standalone: true}" type="checkbox"
                          name="element_name">
                        <span class="lever"></span>
                      </label>
                    </div>
                  </div>

                  <div id="inputs-telefono"></div>

                </div>

              </div>
            </fieldset>
          </div>

          <div class="text-center mt-1-half">
            <button class="btn orange-chang mb-1" (click)="modalTelefonos.hide()">CERRAR
              <i class="fa fa-check ml-1"></i>
            </button>
          </div>

        </form>

      </div>
    </div>
    <!--/.Contenido-->
  </div>
</div>
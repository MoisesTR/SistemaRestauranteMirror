<section>
  <div class="row">


      <div class="col-lg-3 col-md-3 col-sm-12 mt-4">
        <form [formGroup]="formBusquedaFactura" novalidate>
          <div class="card card-cascade">
            <div class="center-card">
              <i class="fa fa-money orange-chang icono-card"></i>
              <div class="mb-3 right-card-align">
                <p class="grey-text-card">Total</p>
                <h4><strong>C$ {{totalCordobasFacturas | number : '1.2-2' }}</strong></h4>
              </div>

              <hr class="mt-4">

              <div class="col-xs-12 col-md-12 col-lg-12 mb-4 mt-2">
                <label class="" for="proveedor" class="grey-text-card">Proveedor</label>
                <ng-select [items]="proveedores" bindLabel="NombreProveedor" bindValue="IdProveedor" id="proveedor" placeholder="Selecciona un proveedor"
                           (change)="onChangeProveedor($event)" formControlName="proveedor">
                  <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                    <div style="margin: 10px 0;" class="card">
                      <div class="card-body">
                        <h5 class="card-title" [ngOptionHighlight]="search">{{item.NombreProveedor}}</h5>
                        <p class="card-subtitle mb-2 text-muted">
                          <b>Nombre del Representante</b>
                          <br>
                          <i>{{item.NombreRepresentante}}</i>
                        </p>
                        <p class="card-text">
                          <b>Descripcion</b>
                          <br>
                          <i>{{item.Descripcion}}</i>
                        </p>
                      </div>
                    </div>
                  </ng-template>
                </ng-select>
              </div>

              <div class="col-xs-12 col-md-12 col-lg-12 mb-4 mt-3">
                <mdb-date-picker [options]="startDate" formControlName="fechaInicio" name="fechaInicio" id="FechaInicio"
                  [placeholder]="'Seleccione la fecha'" [label]="'Fecha Inicio'" required></mdb-date-picker>
              </div>

              <div class="col-xs-12 col-md-12 col-lg-12 mb-4 mt-3">
                <mdb-date-picker [options]="finalDate" formControlName="fechaFin" name="fechaFin" id="FechaFin"
                  [placeholder]="'Seleccione la fecha'" [label]="'Fecha Fin'" required></mdb-date-picker>
              </div>

              <div class="col-xs-12 col-md-12 col-lg-12 mb-4 mt-4">
                <button class="btn orange-chang btn-sm btn-block waves-light" (click)="findFacturas()" mdbWavesEffect>Buscar</button>
              </div>

            </div>
          </div>
        </form>
      </div>


    <div class="col-lg-9 col-md-9 col-sm-12">

      <div class="card card-cascade narrower">
        <!--Titulo-->
        <div class="view view-cascade gradient-card-header orange-chang">
          <h2 class="h2-responsive">Total Facturas</h2>
        </div>
        <!--/Titulo-->
        <div class="card-body">

          <div class="col-12 col-sm-12 col-md-12 mt-3">
            <div class="in input-group md-form form-inline form-sm form-2 pl-0">
              <i class="fa fa-search mt-2" aria-hidden="true"></i>
              <input class="form-control w-75 ml-3" type="text" placeholder="Buscar" aria-label="Buscar" [(ngModel)]="buscando">
            </div>
          </div>

          <table class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
            <thead>
              <tr class="">
                <th class="header-negrita">#</th>
                <th class="header-negrita text-center align-middle">Cód. Factura</th>
                <th class="header-negrita text-center align-middle">Fecha Recepción</th>
                <th class="header-negrita text-center align-middle">Trabajador Ingreso</th>
                <th class="header-negrita text-center align-middle">Hora y Fecha Ingreso</th>
                <th class="header-negrita text-center align-middle">Total</th>
                <th class="header-negrita text-center align-middle">Acción</th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let factura of facturas; let i = index">
                <th scope="row" class="align-middle" width="5%">{{i + 1}}</th>
                <td class="body-negrita text-center align-middle">{{factura.NumRefFactura}}</td>
                <td class="body-negrita text-center align-middle">
                  <span class="grey-text"><small><i class="fa fa-calendar-times-o"></i>{{factura.FechaRecepcion | date: 'dd/MM/yyyy'}}</small></span>
                </td>
                <td class="body-negrita text-center align-middle">{{factura.TrabajadorIngreso}}</td>
                <td class="body-negrita text-center align-middle">
                  <span class="grey-text"><small><i class="fa fa-clock-o"></i>{{factura.HoraIngreso}}</small></span>
                  <br>
                  <span class="grey-text"><small><i class="fa fa-calendar-times-o"></i>{{factura.FechaIngreso | date: 'dd/MM/yyyy'}}</small></span>
                </td>
                <td width="15%" class="body-negrita text-center align-middle">C$ {{factura.TotalCordobas | number : '1.2-2'}}</td>
                <td class="text-center align-middle">
                  <button type="button" class="btn orange-chang btn-sm waves-light" tabindex="-1" (click)="mostrarFactura(factura.IdFactura)" mdbTooltip="Visualizar Factura"
                    placement="bottom" mdbWavesEffect><i class="fa fa-eye"></i></button>
                </td>
              </tr>

            </tbody>
          </table>

          <nav>
            <ul class="pagination pg-amber justify-content-center">
              <!--Arrow left-->
              <li class="page-item">
                <a class="page-link" mdbWavesEffect aria-label="Previous">
                  <span aria-hidden="true">&laquo;</span>
                  <span class="sr-only">Anterior</span>
                </a>
              </li>

              <!--Numbers-->
              <li class="page-item active"><a class="page-link" mdbWavesEffect>1</a></li>
              <li class="page-item"><a class="page-link" mdbWavesEffect>2</a></li>
              <li class="page-item"><a class="page-link" mdbWavesEffect>3</a></li>
              <li class="page-item"><a class="page-link" mdbWavesEffect>4</a></li>
              <li class="page-item"><a class="page-link" mdbWavesEffect>5</a></li>

              <!--Arrow right-->
              <li class="page-item">
                <a class="page-link" mdbWavesEffect aria-label="Next">
                  <span aria-hidden="true">&raquo;</span>
                  <span class="sr-only">Siguiente</span>
                </a>
              </li>
            </ul>
          </nav>


        </div>

      </div>
    </div>

  </div>
</section>